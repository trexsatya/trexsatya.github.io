"use strict";!function(t,e){var n={},i=[];n.onReady=function(t){i.push(t)},n.dispatchGlobalReady=function(){for(var t=i.length-1;t>=0;t--)i[t]();i=[],n.dispatchGlobalReady=e},function(){function n(t,n){n=n||{bubbles:!1,cancelable:!1,detail:e};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i}n.prototype=t.Event.prototype,t.CustomEvent=n}(),n.device=function(){var t=navigator.appVersion,e=navigator.userAgent,n="-",i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in i){var o=i[a];if(o.r.test(e)){n=o.s;break}}var r="-";switch(/Windows/.test(n)&&(r=/Windows (.*)/.exec(n)[1],n="Windows"),n){case"Mac OS X":r=/Mac OS X (10[\.\_\d]+)/.exec(e)[1];break;case"Android":r=/Android ([\.\_\d]+)/.exec(e)[1];break;case"iOS":/(iphone|ipod|ipad).* os 8_/.test(e.toLowerCase())?r=e.toLowerCase().split("version/")[1].split(" ")[0]:(r=/OS (\d+)_(\d+)_?(\d+)?/.exec(t),r=r[1]+"."+r[2]+"."+(0|r[3]))}return{os:n,osVersion:r,ANDROID:"Android",IOS:"iOS"}}(),n.browser=function(){var t,e,n,i=navigator.userAgent,a=navigator.appName,o=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10);return(e=i.indexOf("Opera"))!=-1&&(a="Opera",o=i.substring(e+6),(e=i.indexOf("Version"))!=-1&&(o=i.substring(e+8))),(e=i.indexOf("OPR"))!=-1?(a="Opera",o=i.substring(e+4)):(e=i.indexOf("MSIE"))!=-1?(a="Microsoft Internet Explorer",o=i.substring(e+5)):(e=i.indexOf("Chrome"))!=-1?(a="Chrome",o=i.substring(e+7)):(e=i.indexOf("Safari"))!=-1?(a="Safari",o=i.substring(e+7),(e=i.indexOf("Version"))!=-1&&(o=i.substring(e+8))):(e=i.indexOf("Firefox"))!=-1?(a="Firefox",o=i.substring(e+8)):i.indexOf("Trident/")!=-1?(a="Microsoft Internet Explorer",o=i.substring(i.indexOf("rv:")+3)):(t=i.lastIndexOf(" ")+1)<(e=i.lastIndexOf("/"))&&(a=i.substring(t,e),o=i.substring(e+1),a.toLowerCase()==a.toUpperCase()&&(a=navigator.appName)),(n=o.indexOf(";"))!=-1&&(o=o.substring(0,n)),(n=o.indexOf(" "))!=-1&&(o=o.substring(0,n)),(n=o.indexOf(")"))!=-1&&(o=o.substring(0,n)),r=parseInt(""+o,10),isNaN(r)&&(o=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10)),{name:a,version:o}}(),n.ajax=function(){var e=function(t){var e=null;try{e=new XMLHttpRequest,"withCredentials"in e&&t&&(e.withCredentials=!0)}catch(n){console.error(n)}return e},n=function(t){var e=null;try{e=JSON.parse(t)}catch(n){e=null}return e},i=function(t){var e,n="";for(e in t)n+=e+"="+t[e]+"&";var i=n.lastIndexOf("&");return i!==-1&&(t=n.substring(0,i)),n};return function(a){var o=a.method,r=a.url,s="boolean"==typeof a.crossDomain&&a.crossDomain,l=a.contentType,c=a.dataType,d=a.data,u=a.timeout,f=a.success,p=a.error,h=a.headers;if("string"!=typeof o)throw new TypeError("method must be a string");if("string"!=typeof r)throw new TypeError("url must be a string");if("object"==typeof d&&(d="application/json"===l?JSON.stringify(d):i(d)),"function"!=typeof f)throw new TypeError("success must be a function");var g=e(s),v="NO_INTERNET_ACCESS";if(g){if(g.open(o,r,!0),"string"==typeof l&&g.setRequestHeader("Content-type",l),"xml"===c&&g.overrideMimeType&&g.overrideMimeType("application/xml; charset=utf-8"),"object"==typeof h){var m;for(m in h)g.setRequestHeader(m,h[m])}g.onreadystatechange=function(e){if(4===g.readyState){var i=null;"json"===c?(i=n(g.responseText),null===i&&(v="JSON_MALFORMED")):i="xml"===c?g.responseXML:g.responseText;var a=g.status.toString();"2"===a[0]?f(i,g):"function"==typeof p&&t.setTimeout(function(){p(i,v,g)},1),g=null}},"number"==typeof u&&(g.timeout=u,g.ontimeout=function(){v="TIMEOUT_EXCEEDED"}),g.send(d)}else"function"==typeof p&&(v="XMLHTTPREQUEST_UNAVAILABLE",p(v));return{cancel:function(){v="REQUEST_CANCELED",g&&g.abort()}}}}(),n.event=function(i){var a=["mousedown","mousemove","mouseup"],o=!1;("ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch)&&(o=!0,a=["touchstart","touchmove","touchend","touchcancel"]),t.navigator.pointerEnabled?a=["pointerdown","pointermove","pointerup","pointercancel"]:t.navigator.msPointerEnabled&&(a=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var r={};r.hasTouch=o,r.start=a[0],r.move=a[1],r.end=a[2],r.cancel="undefined"==typeof a[3]?null:a[3],r.tap="tap";var s=document.createElement("div"),l=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],c=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],d=null,u=null,f=l.length-1;for(f in l)if(s.style[l[f].name]!==e){d=l[f].end;break}var p=c.length-1;for(p in c)if(s.style[c[p].name]!==e){u=c[p].end;break}var h=n.device.osVersion;h.length>2&&(h=n.device.osVersion.substring(0,3)),"android"===n.device.os.toLowerCase()&&"4.1"===h&&(d="webkitTransitionEnd",u="webkitAnimationEnd"),r.transitionEnd=d,r.animationEnd=u;var g=[],v=function(){function e(t,e){this.el=t,this.callback=e,this.moved=!1,this.startX=0,this.startY=0,this.el.addEventListener(r.start,this,!1)}return e.prototype.start=function(t){this.el.addEventListener(r.move,this,!1),this.el.addEventListener(r.end,this,!1),this.moved=!1,this.startX=t.touches?t.touches[0].clientX:t.clientX,this.startY=t.touches?t.touches[0].clientY:t.clientY},e.prototype.move=function(t){var e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY;(Math.abs(e-this.startX)>10||Math.abs(n-this.startY)>10)&&(this.moved=!0)},e.prototype.end=function(e){if(this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1),!this.moved){if("undefined"!=typeof i){var n=new t.CustomEvent(this.tap,{detail:{},bubbles:!0,cancelable:!0});this.el.dispatchEvent(n)}this.callback(e)}},e.prototype.cancel=function(){this.moved=!1,this.startX=0,this.startY=0},e.prototype.off=function(){this.el.removeEventListener(r.start,this,!1),this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1)},e.prototype.handleEvent=function(t){switch(t.type){case r.start:this.start(t);break;case r.move:this.move(t);break;case r.end:this.end(t);break;case r.cancel:this.cancel(t)}},e}();return n.on=function(t,e,n,i){var a=function(t,e,n,i){if(e===r.tap){var a=new v(t,n);return void g.push(a)}t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n,i)};if("undefined"==typeof t.length)a(t,e,n,i);else for(var o=0,s=t.length;o<s;o++)a(t[o],e,n,i)},t.on=document.on=NodeList.prototype.on=HTMLElement.prototype.on=function(t,e,i){n.on(this,t,e,i)},n.off=function(t,e,n,i){var a=function(t,e,n,i){if(e!==r.tap)t.removeEventListener?t.removeEventListener(e,n,i):t.attachEvent&&t.detachEvent("on"+e,n,i);else for(var a=0,o=t.length;a<o;a++)if(g[a].el===t){g[a].off(),g.splice(a,1);break}};if("undefined"==typeof t.length)a(t,e,n,i);else for(var o=0,s=t.length;o<s;o++)a(t[o],e,n,i)},t.off=document.off=NodeList.prototype.off=HTMLElement.prototype.off=function(t,e,i){n.off(this,t,e,i)},r}(t.jQuery),n.tagManager=function(){if("undefined"!=typeof riot){var t=[],e=function(e,n){e[0].tagName=n,t.push(e[0])},n=function(){return t},i=function(e,n,i){for(var a=[],o=t.length-1;o>=0;o--)if(t[o].tagName===e){a.push(n);var r=a.concat(i);t[o].trigger.apply(this,r);break}};return{addTag:e,getAll:n,trigger:i}}}(),n.options=function(t){var e=!1;"object"==typeof t.i18n&&null!==t.i18n&&(n.i18n(t.i18n),e=!0),t.navigator.useI18n=e,n.navigator(t.navigator)},n.alert=function(t,e,i,a){return n.dialog().alert(t,e,i,a)},n.confirm=function(t,e,i,a,o){return n.dialog().confirm(t,e,i,a,o)},n.prompt=function(t,e,i,a,o){return n.dialog().prompt(t,e,i,a,o)},n.indicator=function(t,e){return n.dialog().indicator(t,e)},n.updateLocale=function(t){var e="undefined"!=typeof riot;n.i18n().setPreference(t).getAll(function(t){if(e){for(var i=n.tagManager.getAll(),a=i.length-1;a>=0;a--)i[a].i18n=t;riot.update()}else n.i18n().bind()})},t.phonon=n,"object"==typeof exports?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return t.phonon=n})}("undefined"!=typeof window?window:this),function(t,e){function n(t){if(d.initCalled)throw new Error("The i18n module has already been instantiated");"string"==typeof t.directory&&(t.directory=t.directory.indexOf("/",t.directory.length-"/".length)!==-1?t.directory:t.directory+"/");var e;for(e in t)d[e]=t[e];d.initCalled=!0}function i(t){if(!d.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof t)throw new Error("callback must be a function");if(null!==c)return void t(c);var e=new XMLHttpRequest,n=d.localePreferred?d.localePreferred:d.localeFallback;e.open("GET",d.directory+n+".json",!0),e.overrideMimeType&&e.overrideMimeType("application/json; charset=utf-8"),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)c=JSON.parse(e.responseText),t(JSON.parse(e.responseText));else{if(!d.localePreferred)throw new Error("The default locale ["+d.directory+d.localeFallback+".json] file is not found");d.localePreferred=null,console.log("The language ["+n+"] is not available, loading "+d.localeFallback),i(function(e){c=e,t(e)})}},e.send("")}function a(t,e){if("string"!=typeof t&&!(t instanceof Array))throw new Error("key must be a string or an array");var n=t instanceof Array;if(null===c)i(function(i){if(n){for(var a=t.length,o=a-1,r={};o>=0;o--)r[t[o]]=i[t[o]];e(r)}else e(i[t])});else if(n){for(var a=t.length,o=a-1,r={};o>=0;o--)r[t[o]]=c[t[o]];e(r)}else e(c[t])}function o(t,n){var a=t||e,o=n;if(1===arguments.length&&"function"==typeof t&&(a=e,o=t),!u(a))throw new TypeError("Not valid element object "+a);var r=a.querySelectorAll("[data-i18n]");null===c?i(function(t){v(r,t),"function"==typeof o&&o()}):(v(r,c),"function"==typeof o&&o())}function r(t){if("string"!=typeof t)throw new Error("The language must be a string");return d.localePreferred=t,c=null,m}function s(){return d.localePreferred}function l(){return t.navigator.userLanguage||t.navigator.language}var c=null,d={localeFallback:null,localePreferred:t.navigator.userLanguage||t.navigator.language,directory:"./",initCalled:!1},u=function(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},f=function(t,e){"textContent"in t?t.textContent=e:t.innerText=e},p=function(t,e){t.innerHTML=e},h=function(t,e){t.value=e},g=function(t,e){t.setAttribute("placeholder",e)},v=function(t,e){for(var n=t.length-1;n>=0;n--)for(var i,a=t[n],o=a.getAttribute("data-i18n").trim(),r=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;i=r.exec(o);){var s=i[1].trim(),l=i[2].trim().replace(",","");if(void 0!==e[l])if("text"===s)f(a,e[l]);else if("html"===s)p(a,e[l]);else if("value"===s)h(a,e[l]);else{if("placeholder"!==s)throw new Error("The property: "+s+" is unknown");g(a,e[l])}else console.error("The value: "+l+" does not exist in the JSON file")}},m={};m.init=n,m.getAll=i,m.get=a,m.bind=o,m.setPreference=r,m.getPreference=s,m.getLocale=l,phonon.i18n=function(t){return"object"==typeof t&&n(t),{getAll:function(t){return i(t),this},get:function(t,e){return a(t,e),this},bind:function(t,e){return o(t,e),this},setPreference:function(t){return r(t),this},getPreference:function(){return s()},getLocale:function(){return l()}}}}(window,document),function(t,e,n){function i(e,n){"undefined"==typeof t.phononDOM[e]&&(t.phononDOM[e]={});var i='var page = window.phononDOM["'+e+'"];';i+=n;var a=document.createElement("script");a.text=i,document.head.appendChild(a).parentNode.removeChild(a)}function a(){if(R.animatePages){var t=this;t.classList.remove("page-sliding"),t.classList.remove("left"),t.off(n.event.animationEnd,a,!1),t.classList.remove("app-active")}d(_),u(W),O=!1}function o(){if(R.animatePages){var t=this;t.classList.remove("page-sliding"),t.classList.remove("right"),t.off(n.event.animationEnd,o,!1),t.classList.remove("app-active")}d(_),u(W),O=!1}function r(e,n,i){var a={detail:{page:n},bubbles:!0,cancelable:!0};"undefined"!=typeof i&&(a.detail.req=i);var o=new t.CustomEvent(e,a);document.dispatchEvent(o)}function s(t,e,n){for(var i=0,a=e.length;i<a;i++){var o=e[i];o.event===t&&"function"==typeof o.callback&&o.callback(n)}}function l(e){B&&n.tagManager.trigger(e,"create"),r("pagecreated",e);var i=H(e);if(i.activity instanceof X&&"function"==typeof i.activity.onCreateCallback&&i.activity.onCreateCallback(),s("create",i.callbackRegistered),"object"==typeof t.phononDOM[i.name]){var a=t.phononDOM[i.name].onCreate;"function"==typeof a&&a()}}function c(e){var i=H(e);t.setTimeout(function(){if(B&&n.tagManager.trigger(e,"ready"),r("pageopened",e),i.activity instanceof X&&"function"==typeof i.activity.onReadyCallback&&i.activity.onReadyCallback(),s("ready",i.callbackRegistered),"object"==typeof t.phononDOM[i.name]){var a=t.phononDOM[i.name].onReady;"function"==typeof a&&a()}},i.readyDelay)}function d(e){B&&n.tagManager.trigger(e,"transitionend"),r("pagetransitionend",e);var i=H(e);if(i.activity instanceof X&&"function"==typeof i.activity.onTransitionEndCallback&&i.activity.onTransitionEndCallback(),s("transitionend",i.callbackRegistered),"object"==typeof t.phononDOM[i.name]){var a=t.phononDOM[i.name].onTransitionEnd;"function"==typeof a&&a()}}function u(e){B&&n.tagManager.trigger(e,"hidden"),r("pagehidden",e);var i=H(e);if(i.activity instanceof X&&"function"==typeof i.activity.onHiddenCallback&&i.activity.onHiddenCallback(),s("hidden",i.callbackRegistered),"object"==typeof t.phononDOM[i.name]){var a=t.phononDOM[i.name].onHidden;"function"==typeof a&&a()}}function f(e,i){B&&n.tagManager.trigger(e,"tabchanged",i),r("pagetabchanged",e);var a=H(e);if(a.activity instanceof X&&"function"==typeof a.activity.onTabChangedCallback&&a.activity.onTabChangedCallback(i),s("tabchanged",a.callbackRegistered,i),"object"==typeof t.phononDOM[a.name]){var o=t.phononDOM[a.name].onTabChanged;"function"==typeof o&&o(i)}}function p(e,i,a){function o(){r("pageclosed",e);var n=t.location.hash.split("#")[1];n!==a&&R.useHash?t.location.hash=a:D(a)}if(!w()){var l=H(e);if(!l.async)return void o(!0);var c={close:o};if(B&&n.tagManager.trigger(e,"close",c),l.activity instanceof X&&"function"==typeof l.activity.onCloseCallback&&l.activity.onCloseCallback(c),s("close",l.callbackRegistered,c),"object"==typeof t.phononDOM[l.name]){var d=t.phononDOM[l.name].onClose;"function"==typeof d&&d(c)}}}function h(e,i){if("undefined"!=typeof i){B&&n.tagManager.trigger(e,"hashchanged",i),r("pagehash",e,i);var a=H(e);if(a.activity instanceof X&&"function"==typeof a.activity.onHashChangedCallback&&a.activity.onHashChangedCallback(i),s("hashchanged",a.callbackRegistered,i),"object"==typeof t.phononDOM[a.name]){var o=t.phononDOM[a.name].onHashChanged;"function"==typeof o&&o(i)}}}function g(t,e){"tabchanged"===t&&f(e.page,e.tabNumber)}function v(t,a,o){if(B&&e.compile(function(){R.useI18n?n.i18n().getAll(function(i){n.tagManager.addTag(e.mount(t,{i18n:i}),t),a()}):(n.tagManager.addTag(e.mount(t,{i18n:null}),t),a())}),!B){var r=H(t);if(null!==r.content){if(null===r.nocache||null===r.showloader){var s=function(t){var e=z(t);r.nocache=!1,r.showloader=!1,"true"===e.getAttribute("data-nocache")&&(r.nocache=!0),"true"===e.getAttribute("data-loader")&&(r.showloader=!0)};s(t)}r.showloader&&document.body.classList.add("loading"),m(r.content,function(e){r.showloader&&document.body.classList.remove("loading");var o=z(t),s=document.createElement("div");s.innerHTML=e;var l=s.querySelector(t);if(null===l)throw new Error("Error with "+r.content+" : the template for "+t+" must start with the parent node <"+t+' class="app-page">');for(var c=l.attributes,d=c.length-1;d>=0;d--){var u=c.item(d);"class"!==u.nodeName&&"app-page"!==u.nodeValue&&o.setAttribute(u.nodeName,u.nodeValue)}var f=function(t){var e=t.getElementsByTagName("script");e=Array.prototype.slice.call(e);for(var n=0;n<e.length;n++){var a=e[n].getAttribute("type");"text/javascript"!==a&&null!==a||i(r.name,e[n].innerHTML)}};R.useI18n?n.i18n().bind(l,function(){o.innerHTML=l.innerHTML,f(s),a()}):(o.innerHTML=l.innerHTML,f(s),a())},o)}else a()}}function m(t,e,n){var i=new XMLHttpRequest;i.overrideMimeType&&i.overrideMimeType("text/html; charset=utf-8"),i.onreadystatechange=function(){4===i.readyState&&(200===i.status||!i.status&&i.responseText.length)&&e(i.responseText,R,t)},"string"!=typeof n?(i.open("GET",R.templateRootDirectory+t,!0),i.send("")):(i.open("POST",R.templateRootDirectory+t,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(n))}function y(t,e){e="object"==typeof e?e:{};var n,i={name:t,mounted:!1,async:!1,activity:null,content:null,readyDelay:1,callbackRegistered:[],nocache:null,showloader:null};for(n in e)i[n]=e[n];return i}function b(t,e){e="object"==typeof e?e:{};var n=H(t);if(null===n)return A.push(y(t,e));var i;for(i in e)n[i]=e[i];return!0}function w(){return!("undefined"==typeof n.dialog||!n.dialogUtil.closeActive())||(!("undefined"==typeof n.popover||!n.popoverUtil.closeActive())||(!("undefined"==typeof n.panel||!n.panelUtil.closeActive())||!("undefined"==typeof n.sidePanel||!n.sidePanelUtil.closeActive())))}function x(){var t={page:R.defaultPage,params:""};if(M.length>0){for(var e=-1,n=M.length-1;n>=0;n--)if(M[n].page===_){e=n-1;break}e>-1&&(t=M[e],M.slice(e,1))}return t}function T(e){var n,e=e||t.event,i=e.target,a="";if("object"==typeof i&&"FORM"==i.nodeName){var o;for(o=i.elements.length-1;o>=0;o--)if(n=i.elements[o],n.name&&"file"!=n.type&&"reset"!=n.type)if("select-multiple"==n.type)for(j=i.elements[o].options.length-1;j>=0;j--)n.options[j].selected&&(a+="&"+n.name+"="+encodeURIComponent(n.options[j].value).replace(/%20/g,"+"));else("submit"!=n.type&&"button"!=n.type||e.target==n)&&("checkbox"!=n.type&&"radio"!=n.type||n.checked)&&(a+="&"+n.name+"="+encodeURIComponent(n.value).replace(/%20/g,"+"))}return a.substr(1)}function E(t){q=!0;var e=t.target,n=null,i=!1,a="";if("submit"==t.type){var o=e.getAttribute("action");if(o.match(new RegExp("^#"+R.hashPrefix)))return t.preventDefault(),n=o.substr(1+R.hashPrefix.length),p(_,n,R.hashPrefix+n),k(n,function(){},T(t)),P(o.substr(1+R.hashPrefix.length))}for(;e&&e!==document;e=e.parentNode){var r=e.getAttribute("data-navigation");if("undefined"!=typeof e.href&&e.href.indexOf("#!")!==-1){i=!0;break}if(r){n=r;break}}if((!i||!R.useHash)&&(null!==n||i)){var s=R.defaultPage;if(null!==n)if("$previous-page"===n){var l=x();s=l.page,a=l.params}else s=n;else{var c=e.href.match("/#"+R.hashPrefix+"([A-Za-z0-9-.]+)?(.*)/");c&&(s=c[1],a=c[2])}var d=R.hashPrefix+s;""!==a&&(d=d+"/"+a,d=d.replace("//","/")),p(_,s,d)}}function C(t,e){var i=z(t),r=z(e);r.classList.add("app-active"),R.animatePages?(i.classList.add("page-sliding"),I?(i.classList.add("left"),i.on(n.event.animationEnd,a,!1)):(i.classList.add("right"),i.on(n.event.animationEnd,o,!1))):(i.classList.remove("app-active"),I?a():o());for(var s=r.querySelectorAll(".content"),l=s.length-1;l>=0;l--){var c=s[l];null!==c&&0!==c.scrollTop&&(c.scrollTop=0)}e===R.defaultPage&&(M=[])}function k(t,e,i){if(O&&"function"==typeof e)return e();var a=H(t);N&&(O=!0,W=_,_=t),!a.mounted||a.nocache?v(a.name,function(){if(a.mounted=!0,l(t),c(t),N||n.dispatchGlobalReady(),N&&C(W,t),!N){N=!0;var i=z(t);i.classList.contains("app-active")||i.classList.add("app-active")}"function"==typeof e&&e()},i):(c(t),C(W,t),"function"==typeof e&&e())}function S(t){"string"==typeof t.templateRootDirectory&&""!==t.templateRootDirectory&&(t.templateRootDirectory=t.templateRootDirectory.indexOf("/",t.templateRootDirectory.length-"/".length)!==-1?t.templateRootDirectory:t.templateRootDirectory+"/"),"object"==typeof t.hashPrefix&&(t.hashPrefix="");var e;for(e in t)R[e]=t[e];R.enableBrowserBackButton&&(q=!0);for(var n=document.querySelectorAll("[data-page]"),i=n.length-1;i>=0;i--){var a=n[i];a.classList.contains("app-page")||a.classList.add("app-page"),b(a.tagName.toLowerCase())}}function L(){if(N)throw new Error("The app has been already started");var t=n.device.os.toLowerCase(),e="web";"android"===t?e="android":"ios"===t&&(e="ios"),document.body.classList.contains(e)||document.body.classList.add(e),D()}function P(e,n){var i=H(_),a=H(e);if(!a)throw new Error("The following page: "+e+" does not exists");var o="string"==typeof n?R.hashPrefix+a.name+"/"+n:R.hashPrefix+a.name;if(i.async)p(_,a.name,o);else{var r=t.location.hash.split("/");r[0].indexOf(a.name)===-1&&R.useHash&&(t.location.hash=o)}}function D(e,n){var i,a="string"==typeof e?e:t.location.href.split("#")[1]||"",o=a.split("/"),r=o.slice(1,o.length),s=o[0],l=R.hashPrefix.indexOf("/");l!==-1?(s="undefined"==typeof o[1]?"":o[1],r=o.slice(2,o.length),i=s.substring(l+1,s.length)):i=s.substring(R.hashPrefix.length,s.length);var c=H(i);if(N||c)!N&&c&&(_=c.name);else if(_=R.defaultPage,c=H(R.defaultPage),R.useHash)return void(t.location.hash=R.hashPrefix+R.defaultPage);if(c){if(w(),c.name===_&&N)return void h(c.name,r);if(N&&!q)return;for(var d=!1,u=M.length-1;u>=0;u--)if(M[u].page===c.name){d=!0;break}if(M.length>0?c.name===R.defaultPage&&(I=!1):I=!0,M.length>1&&M[M.length-2].page===c.name&&(I=!1),!d){var f=r.join("/");M.push({page:c.name,params:f})}"function"!=typeof c.callback||c.mounted||c.callback(c.activity),c.mounted?(k(c.name,null,n),h(c.name,r)):k(c.name,function(){h(c.name,r)},n),R.enableBrowserBackButton||(q=!1)}}t.phononDOM={};var A=[],M=[],N=!1,O=!1,_=null,W=null,I=!0,q=!1,B=void 0!==e,R={defaultPage:null,defaultTemplateExtension:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1,useHash:!0},X=function(){function t(t){if("object"==typeof t){var e;for(e in t)void 0!==this[e]&&"constructor"!==this[e]&&(this[e+"Callback"]=t[e])}}return t.prototype.onCreate=function(t){this.onCreateCallback=t},t.prototype.onReady=function(t){this.onReadyCallback=t},t.prototype.onClose=function(t){this.onCloseCallback=function(e){t(e)}},t.prototype.onHidden=function(t){this.onHiddenCallback=t},t.prototype.onTransitionEnd=function(t){this.onTransitionEndCallback=t},t.prototype.onHashChanged=function(t){this.onHashChangedCallback=function(e){t.apply(this,e)}},t.prototype.onTabChanged=function(t){this.onTabChangedCallback=function(e){t(e)}},t}(),H=function(t){for(var e=A.length-1;e>=0;e--)if(A[e].name===t)return A[e];return null},z=function(t){for(var e=document.querySelectorAll("[data-page]"),n=e.length-1,i=null;n>=0;n--)if(e[n].tagName.toLowerCase()===t){i=e[n];break}return i};document.on("tap",E),document.on("submit",E),R.useHash&&t.addEventListener("hashchange",D),document.on("backbutton",function(){var t=x();p(_,t.page,R.hashPrefix+t.page+"/"+t.params)}),n.navigator=function(e){return"object"==typeof e&&S(e),{currentPage:_,previousPage:W,start:L,changePage:function(e,n){q=!0;var i=w()?400:1;t.setTimeout(function(){P(e,n)},i)},on:function(t,e){if("string"!=typeof t.page)throw new Error("Page name must be a string");if("undefined"!=typeof t.preventClose&&"boolean"!=typeof t.preventClose)throw new Error("preventClose option must be a boolean");if("undefined"!=typeof t.readyDelay&&"number"!=typeof t.readyDelay)throw new Error("readyDelay option must be a number");null!==typeof t.content&&"string"==typeof R.defaultTemplateExtension&&(t.content=t.page+"."+R.defaultTemplateExtension);var n=H(t.page),i=null!==n;i||(n=y(t.page)),"function"==typeof e||"object"==typeof e?n.activity=new X(e):n.activity=null,n.callback=e,n.async="boolean"==typeof t.preventClose&&t.preventClose,n.content="string"==typeof t.content?t.content:null,n.readyDelay="number"==typeof t.readyDelay?t.readyDelay:1,b(t.page.toLowerCase(),n)},onPage:function(t){if("string"!=typeof t)throw new Error("PageName must be a string");return b(t,{}),{addEvent:function(e,n){var i=H(t);i.callbackRegistered.push({event:e,callback:n})}}},callCallback:g}}}("undefined"!=typeof window?window:this,"undefined"!=typeof riot?riot:void 0,phonon),function(t){function e(e,n){var i=n.offsetHeight;n.style.maxHeight="0px",t.setTimeout(function(){var t=function(){n.off(phonon.event.transitionEnd,t);var i=e.parentNode.querySelector(".icon-expand-more");i&&(i.classList.remove("icon-expand-more"),i.classList.add("icon-expand-less"))};n.on(phonon.event.transitionEnd,t),n.style.maxHeight=i+"px",n.classList.add("accordion-active")},100)}function n(t,e){var n=function(){e.classList.remove("accordion-active"),e.style.maxHeight="none";var i=t.parentNode.querySelector(".icon-expand-less");i&&(i.classList.remove("icon-expand-less"),i.classList.add("icon-expand-more")),e.off(phonon.event.transitionEnd,n)};e.style.maxHeight="0px",e.on(phonon.event.transitionEnd,n)}function i(t){for(;t&&t!==document;t=t.parentNode)if(t.nextElementSibling&&t.nextElementSibling.classList.contains("accordion-content"))return{defaultTarget:t,accordionContent:t.nextElementSibling};return null}function a(t){for(;t&&t!==document;t=t.parentNode)if("true"===t.getAttribute("data-page"))return!0;return!1}function o(t){var a=i(t.target);null!==a&&(a.accordionContent.classList.contains("accordion-active")?n(a.defaultTarget,a.accordionContent):e(a.defaultTarget,a.accordionContent))}document.on("pagecreated",function(t){var e=document.querySelector(t.detail.page),n=e.querySelectorAll(".list");if(n)for(var i=0,a=n.length;i<a;i++){var r=n[i];r.querySelector(".accordion-content")&&r.on("tap",o)}}),document.on("pageclosed",function(t){for(var e=document.querySelector(t.detail.page),n=e.querySelectorAll(".accordion-active"),i=(n.length,0);i<n.length;i++){var a=n[i].previousElementSibling;o({target:a})}}),phonon.onReady(function(){var t=document.body.querySelectorAll(".list");if(t)for(var e=0,n=t.length;e<n;e++){var i=t[e];i.querySelector(".accordion-content")&&!a(i)&&i.on("tap",o)}})}("undefined"!=typeof window?window:this),function(){function t(t,e){for(var n in t){var i=t[n],a=this.input.getAttribute("data-"+n.toLowerCase());"number"==typeof i?this[n]=parseInt(a):i===!1?this[n]=null!==a:i instanceof Function?this[n]=null:this[n]=a,this[n]||0===this[n]||(this[n]=n in e?e[n]:i)}}function e(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function n(t,e){return o.call((e||document).querySelectorAll(t))}function i(){n("input.awesomplete").forEach(function(t){new a(t)})}var a=function(n,i){var o=this;this.input=e(n),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),i=i||{},t.call(this,{minChars:2,maxItems:10,autoFirst:!1,filter:a.FILTER_CONTAINS,sort:a.SORT_BYLENGTH,item:function(t,n){var i=""===n?t:t.replace(RegExp(e.regExpEscape(n.trim()),"gi"),"<mark>$&</mark>");return e.create("li",{innerHTML:i,"aria-selected":"false"})},replace:function(t){this.input.value=t}},i),this.index=-1,this.container=e.create("div",{className:"awesomplete",around:n}),this.ul=e.create("ul",{className:"list",hidden:"hidden",inside:this.container}),this.status=e.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),e.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(t){var e=t.keyCode;o.opened&&(13===e&&o.selected?(t.preventDefault(),o.select()):27===e?o.close():38!==e&&40!==e||(t.preventDefault(),o[38===e?"previous":"next"]()))}}),e.bind(this.input.form,{submit:this.close.bind(this)}),e.bind(this.ul,{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&o.select(e,t)}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||i.list||[],a.all.push(this)};a.prototype={set list(t){Array.isArray(t)?this._list=t:"string"==typeof t&&t.indexOf(",")>-1?this._list=t.split(/\s*,\s*/):(t=e(t),t&&t.children&&(this._list=o.apply(t.children).map(function(t){return t.textContent.trim()}))),document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.ul&&null==this.ul.getAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,e.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&this.index===-1&&this["goto"](0),e.fire(this.input,"awesomplete-open")},next:function(){var t=this.ul.children.length;this["goto"](this.index<t-1?this.index+1:-1)},previous:function(){var t=this.ul.children.length;this["goto"](this.selected?this.index-1:t-1)},"goto":function(t){var n=this.ul.children;this.selected&&n[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&n.length>0&&(n[t].setAttribute("aria-selected","true"),this.status.textContent=n[t].textContent),e.fire(this.input,"awesomplete-highlight")},select:function(t,n){if(t=t||this.ul.children[this.index]){var i;e.fire(this.input,"awesomplete-select",{text:t.textContent,preventDefault:function(){i=!0},originalEvent:n}),i||(this.replace(t.textContent),this.close(),e.fire(this.input,"awesomplete-selectcomplete"))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this._list.filter(function(n){return t.filter(n,e)}).sort(this.sort).every(function(n,i){return t.ul.appendChild(t.item(n,e)),i<t.maxItems-1}),0===this.ul.children.length?this.close():this.open()):this.close()}},a.all=[],a.FILTER_CONTAINS=function(t,n){return RegExp(e.regExpEscape(n.trim()),"i").test(t)},a.FILTER_STARTSWITH=function(t,n){return RegExp("^"+e.regExpEscape(n.trim()),"i").test(t)},a.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1};var o=Array.prototype.slice;return e.create=function(t,n){var i=document.createElement(t);for(var a in n){var o=n[a];if("inside"===a)e(o).appendChild(i);else if("around"===a){var r=e(o);r.parentNode.insertBefore(i,r),i.appendChild(r)}else a in i?i[a]=o:i.setAttribute(a,o)}return i},e.bind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach(function(e){t.addEventListener(e,i)})}},e.fire=function(t,e,n){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0);for(var a in n)i[a]=n[a];t.dispatchEvent(i)},e.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},"undefined"!=typeof Document&&("loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i)),a.$=e,a.$$=n,"undefined"!=typeof self&&(self.Awesomplete=a),"object"==typeof module&&module.exports&&(module.exports=a),a}(),function(t,e){e.autocomplete=function(t,e){new Awesomplete(t,e)}}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e){function n(t,e){for(var n=0;n<u.length;n++)if(u[n].dialog===t){u[n].cancelCallback=e;break}}function i(){var t=m(this.getAttribute("data-id")),n=t.backdrop;n.classList.remove("fadeout"),document.body.removeChild(n);var a=t.dialog;a.style.visibility="hidden",a.style.display="none",
a.classList.remove("close"),u.splice(t.index,1),this.off(e.event.transitionEnd,i,!1)}function a(e){var n=getComputedStyle(e),i=n.width,a=n.height;i=i.slice(0,i.length-2),a=a.slice(0,a.length-2);var o=t.innerHeight/2-a/2;e.style.top=o+"px"}function o(t){if(t.style.visibility="visible",t.style.display="block",!t.classList.contains("active")){a(t),t.classList.add("active");var n=t.querySelector(".circle-progress");n&&e.preloader(n).show();var i=p(t.id);u.push({dialog:t,backdrop:i}),document.body.appendChild(i)}}function r(n){if(l(n),n.classList.contains("active")){n.classList.remove("active"),n.classList.add("close");var a=n.querySelector(".circle-progress");a&&e.preloader(a).hide();var o=m(n.id),r=o.backdrop;r.on(e.event.transitionEnd,i,!1),t.setTimeout(function(){r.classList.add("fadeout")},1)}}function s(t,e,i){if(f=function(){var e,n=t.querySelector("input");n&&(e=n.value),i(e)},"confirm"===e){var a=t.querySelector(".btn-confirm");a&&a.on("tap",f)}else{n(t,i);var o=t.querySelector(".btn-cancel");o&&o.on("tap",f)}}function l(t){if("function"==typeof f){var e=t.querySelectorAll(".btn-confirm, .btn-cancel");if(e)for(var n=0,i=e.length;n<i;n++)e[n].off("tap",f)}}function c(){var t=u.length>0;if(t){var e=u[u.length-1].dialog;"false"!==e.getAttribute("data-cancelable")&&r(e)}return t}var d=!1,u=[],f=null,p=function(t){var e=document.createElement("div");return e.setAttribute("data-id",t),e.classList.add("backdrop-dialog"),e},h=function(t){for(var e,n=document.querySelectorAll("[data-dialog-id], [data-dialog-close]");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t)return t},g=function(t){var e=h(t.target);if(e){var n=e.getAttribute("data-dialog-id");return n?document.querySelector("#"+n):v(t.target)}},v=function(t){for(var e,n=document.querySelectorAll(".dialog");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t&&t.classList.contains("active"))return t},m=function(t){for(var e=u.length-1;e>=0;e--)if(u[e].dialog.id===t){var n=u[e];return n.index=e,n}return!1},y=function(t,e,n,i,a,o){e="string"==typeof e?"<p>"+e+"</p>":"";var r=typeof n;n="string"===r?n:t,i="boolean"!=typeof i||i,a="string"==typeof a?a:"Ok",o="string"==typeof o?o:"Cancel";var s="auto-gen-"+t,l=document.createElement("div");l.setAttribute("class","dialog"),l.setAttribute("data-cancelable",i),l.id=s;var c=void 0===r?"":"<h3>"+n+"</h3>",d='<li><a class="btn btn-flat btn-cancel" data-dialog-close="true">'+o+"</a></li>",u="",f="";"alert"===t?d="":"prompt"===t?u='<input type="text" placeholder="Value">':"indicator"===t&&(e="",f='<div class="circle-progress active padded-bottom"><div class="spinner"></div></div>');var p="indicator"===t?"":'<ul class="buttons">'+d+'<li><a class="btn btn-flat primary btn-confirm" data-dialog-close="true">'+a+"</a></li></ul>",h='<div class="content"><div class="padded-full">'+c+e+u+f+"</div></div>"+p;return l.innerHTML=h,document.body.appendChild(l),l};document.on(e.event.start,function(t){if(u.length>0){var e=u[u.length-1],n=v(t.target);n||"false"!==e.dialog.getAttribute("data-cancelable")&&(r(e.dialog),"function"==typeof e.cancelCallback&&e.cancelCallback()),n&&n!==e.dialog&&n.id!==e.dialog.id&&r(e.dialog)}}),document.on("tap",function(t){var e=h(t.target),n=null;e&&(n=g(t),d=e,n&&(n.classList.contains("active")?r(n):o(n)))}),document.on("keypress",function(t){if(u.length>0&&(13==t.which||13==t.keyCode)){var e=u[u.length-1];return r(e.dialog),!1}return!0}),e.dialog=function(t){if("undefined"==typeof t)return{alert:function(t,e,n,i){var a=y("alert",t,e,n,i);return o(a),{on:function(t,e){s(a,t,e)}}},confirm:function(t,e,n,i,a){var r=y("confirm",t,e,n,i,a);return o(r),{on:function(t,e){s(r,t,e)}}},prompt:function(t,e,n,i,a){var r=y("prompt",t,e,n,i,a);return o(r),{on:function(t,e){s(r,t,e)}}},indicator:function(t,e){var n=y("indicator","",t,e);return o(n),{on:function(t,e){return s(n,t,e),this},open:function(){return o(n),this},close:function(){return r(n),this}}}};var e="string"==typeof t?document.querySelector(t):t;if(null===e)throw new Error("The following element "+t+" does not exists");return{open:function(){return o(e),this},close:function(){return r(e),this},on:function(t,n){return s(e,t,n),this},isActive:function(){return!!e.classList.contains("active")}}},e.dialogUtil={closeActive:c},t.phonon=e,"object"==typeof exports?module.exports=e.dialog:"function"==typeof define&&define.amd&&define(function(){return e.dialog})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e){function n(t){if(!r(t))throw new Error("The page must be a DOMElement not a "+typeof t);var e=t.querySelector(".content");e?e.on("scroll",o,!1):console.error("The given page does not contain any .content node")}var i=0,a=0,o=function(t){t=t.originalEvent||t;var e=t.target;a=e.offsetHeight;var n=document.querySelectorAll(".app-active .floating-action");if(n){for(var o=n.length,r=o-1;r>=0;r--){var s=n[r];i>e.scrollTop?s.classList.contains("active")||s.classList.add("active"):s.classList.contains("active")&&s.classList.remove("active")}i=e.scrollTop}},r=function(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName};document.on("pagecreated",function(t){for(var e=document.querySelectorAll(t.detail.page+" .floating-action"),i=e.length-1;i>=0;i--)for(var a=document.querySelectorAll(".app-page"),o=a.length-1;o>=0;o--){var r=a[o];if(r.tagName.toLowerCase()===t.detail.page){n(r);break}}})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t){function e(t){t.on("focus",n),t.on("blur",i)}function n(t){t.target.parentNode.classList.add("input-filled")}function i(t){""===t.target.value.trim()&&t.target.parentNode.classList.remove("input-filled")}function a(t){""===t.value.trim()||t.parentNode.classList.contains("input-filled")||t.parentNode.classList.add("input-filled")}document.on("pagecreated",function(t){for(var n=document.querySelector(t.detail.page),i=n.querySelectorAll("input.with-label"),o=i.length-1;o>=0;o--)e(i[o]),a(i[o])}),document.on("pageopened",function(t){for(var e=document.querySelector(t.detail.page),n=e.querySelectorAll("input.with-label"),i=n.length-1;i>=0;i--)a(n[i])})}("undefined"!=typeof window?window:this),function(t,e){function n(){var i=this,a=i.getAttribute("data-timeout");if(a){if(isNaN(parseInt(a)))return void console.error("Attribute data-timeout must be a number");var o=i.querySelector(".progress");if(o){o.classList.contains("active")||o.classList.add("active");var r=o.querySelector(".determinate");r.style.width="0",r.style.webkitTransitionDuration=a+"ms",r.style.MozTransitionDuration=a+"ms",r.style.msTransitionDuration=a+"ms",r.style.OTransitionDuration=a+"ms",r.style.transitionDuration=a+"ms",t.setTimeout(function(){r.style.width="100%"},10)}t.setTimeout(function(){s(i)},parseInt(a)+10)}i.off(e.event.transitionEnd,n,!1)}function i(){var n=this;n.style.zIndex=28;var r=n.clientHeight;n.style.webkitTransform="translateY("+r+"px)",n.style.MozTransform="translateY("+r+"px)",n.style.msTransform="translateY("+r+"px)",n.style.OTransform="translateY("+r+"px)",n.style.transform="translateY("+r+"px)";var s=a(n);s>=0&&l.splice(s,1);for(var c=l.length-1;c>=0;c--){var d=c*r;l[c].style.webkitTransform="translateY(-"+d+"px)",l[c].style.MozTransform="translateY(-"+d+"px)",l[c].style.msTransform="translateY(-"+d+"px)",l[c].style.OTransform="translateY(-"+d+"px)",l[c].style.transform="translateY(-"+d+"px)",o()&&(l[c].style.bottom=d+"px")}var u=n.querySelector(".determinate");u&&(u.style.width="0",u.style.webkitTransitionDuration="0ms",u.style.MozTransitionDuration="0ms",u.style.msTransitionDuration="0ms",u.style.OTransitionDuration="0ms",u.style.transitionDuration="0ms"),n.off(e.event.transitionEnd,i,!1),"true"===n.getAttribute("data-autodestroy")&&t.setTimeout(function(){document.body.removeChild(n)},500)}function a(t){for(var e=l.length-1;e>=0;e--)if(l[e]===t)return e;return-1}function o(){var t=parseFloat(e.device.osVersion);return e.device.os===e.device.ANDROID&&!isNaN(t)&&t<4.4}function r(i){if(i.classList.contains("show"))return!1;t.setTimeout(function(){i.classList.add("show")},10),i.style.zIndex=28+l.length;var a=0;if(l.length>0){var r=l[l.length-1];a=l.length*r.clientHeight}i.style.webkitTransform="translateY(-"+a+"px)",i.style.MozTransform="translateY(-"+a+"px)",i.style.msTransform="translateY(-"+a+"px)",i.style.OTransform="translateY(-"+a+"px)",i.style.transform="translateY(-"+a+"px)",o()&&(i.style.bottom=a+"px"),l.push(i);var s=document.querySelector(".app-active .floating-action");s&&(s.style.webkitTransform="translateY(-48px)",s.style.MozTransform="translateY(-48px)",s.style.msTransform="translateY(-48px)",s.style.OTransform="translateY(-48px)",s.style.transform="translateY(-48px)"),i.on(e.event.transitionEnd,n,!1)}function s(t){if(t.classList.contains("show")){t.classList.remove("show"),t.on(e.event.transitionEnd,i,!1);var n=document.querySelector(".app-active .floating-action");n&&(n.style.webkitTransform="translateY(0)",n.style.MozTransform="translateY(0)",n.style.msTransform="translateY(0)",n.style.OTransform="translateY(0)",n.style.transform="translateY(0)")}}var l=[],c=function(t){for(;t&&t!==document;t=t.parentNode)if(t.classList.contains("notification"))return t},d=function(){for(var t="",e="abcdefghijklmnopqrstuvwxyz",n=0;n<8;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},u=function(t,e,n,i){"string"!=typeof t&&(t=""),e="number"==typeof e?e:5e3,i="string"==typeof i?i:"CANCEL";var a='<div class="progress"><div class="determinate"></div></div>',o=n===!0?'<button class="btn pull-right" data-hide-notif="true">'+i+"</button>":"",r=document.createElement("div");return r.setAttribute("class","notification"),r.setAttribute("data-autodestroy","true"),e&&r.setAttribute("data-timeout",e),r.id=d(),r.innerHTML=a+o+t,document.body.appendChild(r),document.querySelector("#"+r.id)};document.on("tap",function(t){var e=t.target;if("true"===e.getAttribute("data-hide-notif")){var n=c(e);n&&s(n)}}),e.notif=function(t,e,n){if(arguments.length>1)return r(u(t,e,n));var i="string"==typeof t?document.querySelector(t):t;if(null===i)throw new Error("The notification with ID "+t+" does not exist");return{show:function(){r(i)},hide:function(){s(i)}}},t.phonon=e,"object"==typeof exports?module.exports=e.notif:"function"==typeof define&&define.amd&&define(function(){return e.notif})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e,n,i){function a(){e.body.removeChild(this);var t=f(this.getAttribute("data-backdrop-for"));l.splice(t.index,1),this.off(n.event.transitionEnd,a,!1)}function o(n){if(!n.classList.contains("active")){n.style.display="block",t.setTimeout(function(){n.classList.add("active")},10);var i=c(n.getAttribute("id"));e.body.appendChild(i),l.push({panel:n,backdrop:i})}}function r(t){if(t.classList.contains("active")){t.classList.remove("active"),t.classList.add("panel-closing");var e=function(){t.classList.remove("panel-closing"),t.style.display="none",t.off(n.event.transitionEnd,e)};t.on(n.event.transitionEnd,e);var i=f(t.getAttribute("id"));i&&(i.backdrop.classList.add("fadeout"),i.backdrop.on(n.event.transitionEnd,a,!1))}}function s(){var t=l.length>0;return t&&r(l[l.length-1].panel),t}var l=[],c=function(t){var n=e.createElement("div");return n.classList.add("backdrop-panel"),n.setAttribute("data-backdrop-for",t),n},d=function(t){for(var n,i=e.querySelectorAll("[data-panel-id], [data-panel-close]");t&&t!==e;t=t.parentNode)for(n=i.length;n--;)if(i[n]===t)return t},u=function(t){var n=d(t.target);if(n){var i=n.getAttribute("data-panel-id");return i?e.querySelector("#"+i):p(t.target)}},f=function(t){for(var e=l.length,n=0;n<e;n++)if(l[n].panel.getAttribute("id")===t){var i=l[n];return i.index=n,i}return null},p=function(t){for(var n,i=e.querySelectorAll(".panel, .panel-full");t&&t!==e;t=t.parentNode)for(n=i.length;n--;)if(i[n]===t&&t.classList.contains("active"))return t},h=function(t){for(;t&&t!==e;t=t.parentNode)if(t.classList.contains("dialog")||t.classList.contains("backdrop-dialog"))return!0;return!1};e.on(n.event.start,function(t){if(t=t.originalEvent||t,!(t.target.classList.contains("notification")||t.parentNode&&t.target.parentNode.classList.contains("notification"))&&!h(t.target)&&l.length>0){var e=l[l.length-1].panel,n=p(t.target);n||r(e),n&&n!==e&&n.id!==e.id&&r(e)}}),e.on(n.event.tap,function(t){if(!(t.target.classList.contains("notification")||t.parentNode&&t.target.parentNode.classList.contains("notification")||h(t.target))){var e=d(t.target),n=null;if(e&&(n=u(t),n&&(n.classList.contains("active")?r(n):o(n))),n=p(t.target),!n&&!e&&l.length>0){var i=l[l.length-1].panel;p(t.target);r(i)}}}),n.panel=function(t){var n="string"==typeof t?e.querySelector(t):t;if(null===n)throw new Error("The panel with ID "+t+" does not exist");return{open:function(){o(n)},close:function(){r(n)}}},n.panelUtil={closeActive:s},t.phonon=n,"object"==typeof exports?module.exports=n.panel:"function"==typeof define&&define.amd&&define(function(){return n.panel})}(window,document,window.phonon||{}),function(t,e){function n(){var t=document.querySelector(".app-active");null!==t.querySelector("div.backdrop-popover")&&t.removeChild(m),g.style.visibility="hidden",g.style.display="none","true"===g.getAttribute("data-virtual")&&document.body.removeChild(g),g=null}function i(){var t=document.createElement("div");return t.classList.add("popover"),t.setAttribute("id",r()),t.setAttribute("data-virtual","true"),document.body.appendChild(t),document.body.lastChild}function a(t){var e="string"==typeof t?t:t.text,n="string"==typeof t?t:t.value;return'<li><a class="padded-list" data-value="'+n+'">'+e+"</a></li>"}function o(t,e,n){if(!(e instanceof Array))throw new Error("The list of the popover must be an array, "+typeof e+" given");var i='<ul class="list">',o=a;"function"==typeof n&&(o=n);for(var r=0;r<e.length;r++)i+=o(e[r]);i+="</ul>",t.innerHTML=i}function r(){for(var t="",e="abcdefghijklmnopqrstuvwxyz",n=0;n<8;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function s(e){return!e.classList.contains("active")&&(v=!0,g=e,e.style.display="block",t.setTimeout(function(){e.style.visibility="visible",e.classList.add("active")},10),e.querySelector("ul").scrollTop=0,document.querySelector(".app-page.app-active").appendChild(m),!0)}function l(t,e){var n=document.querySelector(".app-page.app-active");if(e="string"==typeof e?n.querySelector(e):e,null===e)throw new Error("The trigger for the popover does not exists");if(s(t)){var i=e.getBoundingClientRect();t.style.width=e.clientWidth+"px",t.style.top=i.top+"px",t.style.left=i.left+"px"}}function c(e,n){if("undefined"==typeof n&&(n="left"),s(e)){var i=document.querySelector(".app-page.app-active"),a=i.currentStyle||t.getComputedStyle(i);if("title"===n||"title-left"===n){var o=i.querySelector(".header-bar");e.style.top=o.offsetHeight+"px","title"===n?e.style.left=o.clientWidth/2+parseInt(a.marginLeft)-e.clientWidth/2+"px":e.style.left=16+parseInt(a.marginLeft)+"px"}else"left"!==n&&"right"!==n||(e.style.top="12px","left"===n?e.style.left=16+parseInt(a.marginLeft)+"px":(e.style.left="auto",e.style.right="16px"))}}function d(e){v=!1,g=e,e.classList.contains("active")&&(e.classList.toggle("active"),t.setTimeout(function(){n()},250))}function u(){var t=!!g;return t&&d(g),t}function f(t,e,n){var e="string"==typeof e?document.querySelector(e):e;if(null===e)throw new Error("The button does not exists");var i=t.getAttribute("id");e.setAttribute("data-popover-id",i),n===!0&&e.setAttribute("data-autobind",!0)}function p(t){return{setList:function(e,n){return o(t,e,n),this},open:function(e){return c(t,e),this},openFrom:function(e){return l(t,e),this},close:function(){return d(t),this},onItemChanged:function(e){return y.push({id:t.getAttribute("id"),callback:e}),this},attachButton:function(e,n){return f(t,e,n),this}}}var h=!1,g=null,v=!1,m=document.createElement("div");m.classList.add("backdrop-popover");var y=[],b=function(t){for(var e={target:null,id:null,direction:null};t&&t!==document;t=t.parentNode){var n=t.getAttribute("data-popover-id");if(null!==n){e.target=t,e.id=n,e.direction="left",!t.classList.contains("title")&&t.classList.contains("pull-left")?e.direction="left":!t.classList.contains("title")&&t.parentNode.classList.contains("pull-left")?e.direction="left":t.classList.contains("title")&&t.classList.contains("pull-left")?e.direction="title-left":t.parentNode&&t.parentNode.classList.contains("pull-left")&&t.classList.contains("title")?e.direction="title-left":t.classList.contains("pull-right")?e.direction="right":t.parentNode&&t.parentNode.classList.contains("pull-right")?e.direction="right":t.classList.contains("center")?e.direction="title":t.parentNode&&t.parentNode.classList.contains("center")?e.direction="title":e.direction="button";break}}return e},w=function(t){for(;t&&t!==document;t=t.parentNode)if(t.classList.contains("popover")&&t.classList.contains("active"))return t;return!1},x=function(t){for(;t&&t!==document;t=t.parentNode)if(t===g)return!0;return!1};document.on(e.event.start,function(t){t=t.originalEvent||t,!w(t.target)&&v&&d(g),h=!1}),document.on(e.event.move,function(t){t=t.originalEvent||t,h=!0}),document.on(e.event.end,function(t){var e=t.target,n=b(e),i=document.querySelector("#"+n.id);if(n.target&&i&&(i.classList.contains("active")&&!h?d(i):"button"===n.direction?l(i,n.target):c(i,n.direction)),null!==e.parentNode&&x(e)&&!h){d(g);var a={text:e.textContent,value:e.getAttribute("data-value"),target:t.target};t=new CustomEvent("itemchanged",{detail:a,bubbles:!0,cancelable:!0});for(var o=document.querySelectorAll('[data-popover-id="'+g.id+'"]'),r=o.length-1;r>=0;r--){var n=o[r];"true"===n.getAttribute("data-autobind")&&("textContent"in n?n.textContent=e.textContent:n.innerText=e.innerText)}g.dispatchEvent(t);for(var r=0;r<y.length;r++){var s=y[r];s.id===g.getAttribute("id")&&s.callback(a)}}}),e.popover=function(t){if("string"==typeof t&&"_caller"===t)return p();if("undefined"==typeof t)return p(i());var e="string"==typeof t?document.querySelector(t):t;if(null===e)throw new Error("The popover with ID "+t+" does not exists");return p(e)},e.popoverUtil={closeActive:u},t.phonon=e,"object"==typeof exports?module.exports=e.popover:"function"==typeof define&&define.amd&&define(function(){return e.popover})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e){function n(t){t.classList.contains("active")||(t.style.visibility="visible",t.classList.add("active"))}function i(){this.style.visibility="hidden",this.off(e.event.transitionEnd,i)}function a(t){t.classList.contains("active")&&(t.classList.remove("active"),t.on(e.event.transitionEnd,i))}e.preloader=function(t){var e="string"==typeof t?document.querySelector(t):t;if(null===e)throw new Error("The preloader with ID "+t+" does not exist");return{show:function(){n(e)},hide:function(){a(e)}}},t.phonon=e,"object"==typeof exports?module.exports=e.preloader:"function"==typeof define&&define.amd&&define(function(){return e.preloader})}("undefined"!=typeof window?window:this,window.phonon||{}),function(t,e){var n=null,i=i||function(i){var a={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},o={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},r={},s={hasTouch:"ontouchstart"in e.documentElement||t.navigator.msPointerEnabled,eventType:function(t){var e={down:s.hasTouch?"touchstart":"mousedown",move:s.hasTouch?"touchmove":"mousemove",up:s.hasTouch?"touchend":"mouseup",out:s.hasTouch?"touchcancel":"mouseout"};return e[t]},page:function(t,e){return s.hasTouch&&e.touches.length&&e.touches[0]?e.touches[0]["page"+t]:e["page"+t]},klass:{has:function(t,e){return t.className.indexOf(e)!==-1},add:function(t,e){!s.klass.has(t,e)&&a.addBodyClasses&&(t.className+=" "+e)},remove:function(t,e){a.addBodyClasses&&(t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(t){if("function"==typeof r[t])return r[t].call()},createBackdrop:function(){if(!n){var t=document.createElement("div");t.classList.add("backdrop-panel"),n=t,a.element.appendChild(n)}},removeBackdrop:function(){if(n){var t=n;n=null;var e=function(){t.classList.remove("fadeout"),a.element.removeChild(t),t.off(phonon.event.transitionEnd,e)};t.classList.add("fadeout"),t.on(phonon.event.transitionEnd,e)}},vendor:function(){var t,n=e.createElement("div"),i="webkit Moz O ms".split(" ");for(t in i)if("undefined"!=typeof n.style[i[t]+"Transition"])return i[t]},transitionCallback:function(){return"Moz"===o.vendor||"ms"===o.vendor?"transitionend":o.vendor+"TransitionEnd"},canTransform:function(){return"undefined"!=typeof a.element.style[o.vendor+"Transform"]},deepExtend:function(t,e){var n;for(n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},s.deepExtend(t[n],e[n])):t[n]=e[n];return t},angleOfDrag:function(t,e){var n,i;return i=Math.atan2(-(o.startDragY-e),o.startDragX-t),i<0&&(i+=2*Math.PI),n=Math.floor(i*(180/Math.PI)-180),n<0&&n>-180&&(n=360-Math.abs(n)),Math.abs(n)},events:{addEvent:function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):void 0},removeEvent:function(t,e,n){return t.addEventListener?t.removeEventListener(e,n,!1):t.attachEvent?t.detachEvent("on"+e,n):void 0},prevent:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},parentUntil:function(t,e){for(var n="string"==typeof e;t.parentNode;){if(n&&t.getAttribute&&t.getAttribute(e))return t;if(!n&&t===e)return t;t=t.parentNode}return null}},l={translate:{get:{matrix:function(e){if(s.canTransform()){var n=t.getComputedStyle(a.element)[o.vendor+"Transform"].match(/\((.*)\)/),i=8;return n?(n=n[1].split(","),16===n.length&&(e+=i),parseInt(n[e],10)):0}return parseInt(a.element.style.left,10)}},easeCallback:function(){a.element.style[o.vendor+"Transition"]="",o.translation=l.translate.get.matrix(4),o.easing=!1,clearInterval(o.animatingInterval),0===o.easingTo&&(s.klass.remove(e.body,"snapjs-right"),s.klass.remove(e.body,"snapjs-left")),s.dispatchEvent("animated"),s.events.removeEvent(a.element,s.transitionCallback(),l.translate.easeCallback)},easeTo:function(t){0===t&&s.removeBackdrop(),s.canTransform()?(o.easing=!0,o.easingTo=t,a.element.style[o.vendor+"Transition"]="all "+a.transitionSpeed+"s "+a.easing,o.animatingInterval=setInterval(function(){s.dispatchEvent("animating")},1),s.events.addEvent(a.element,s.transitionCallback(),l.translate.easeCallback),l.translate.x(t)):(o.translation=t,l.translate.x(t)),0===t&&(a.element.style[o.vendor+"Transform"]="")},x:function(n){if(!("left"===a.disable&&n>0||"right"===a.disable&&n<0))if(a.hyperextensible||(n===a.maxPosition||n>a.maxPosition?n=a.maxPosition:(n===a.minPosition||n<a.minPosition)&&(n=a.minPosition)),n=parseInt(n,10),isNaN(n)&&(n=0),s.canTransform()){var i="translate3d("+n+"px, 0,0)";a.element.style[o.vendor+"Transform"]=i}else a.element.style.width=(t.innerWidth||e.documentElement.clientWidth)+"px",a.element.style.left=n+"px",a.element.style.right=""}},drag:{listen:function(){o.translation=0,o.easing=!1,s.events.addEvent(a.element,s.eventType("down"),l.drag.startDrag),s.events.addEvent(a.element,s.eventType("move"),l.drag.dragging),s.events.addEvent(a.element,s.eventType("up"),l.drag.endDrag)},stopListening:function(){s.events.removeEvent(a.element,s.eventType("down"),l.drag.startDrag),s.events.removeEvent(a.element,s.eventType("move"),l.drag.dragging),s.events.removeEvent(a.element,s.eventType("up"),l.drag.endDrag)},startDrag:function(t){var e=t.target?t.target:t.srcElement,n=s.parentUntil(e,"data-snap-ignore");if(n)return void s.dispatchEvent("ignore");if(a.dragger){var i=s.parentUntil(e,a.dragger);if(!i&&o.translation!==a.minPosition&&o.translation!==a.maxPosition)return}s.dispatchEvent("start"),a.element.style[o.vendor+"Transition"]="",o.isDragging=!0,o.hasIntent=null,o.intentChecked=!1,o.startDragX=s.page("X",t),o.startDragY=s.page("Y",t),o.dragWatchers={current:0,last:0,hold:0,state:""},o.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(t){if(o.isDragging&&a.touchToDrag){var n,i=s.page("X",t),r=s.page("Y",t),c=o.translation,d=l.translate.get.matrix(4),u=i-o.startDragX,f=d>0,p=u;if(o.intentChecked&&!o.hasIntent)return;if(a.addBodyClasses&&(d>0?(s.klass.add(e.body,"snapjs-left"),s.klass.remove(e.body,"snapjs-right")):d<0&&(s.klass.add(e.body,"snapjs-right"),s.klass.remove(e.body,"snapjs-left"))),o.hasIntent===!1||null===o.hasIntent){var h=s.angleOfDrag(i,r),g=h>=0&&h<=a.slideIntent||h<=360&&h>360-a.slideIntent,v=h>=180&&h<=180+a.slideIntent||h<=180&&h>=180-a.slideIntent;v||g?o.hasIntent=!0:o.hasIntent=!1,o.intentChecked=!0}if(a.minDragDistance>=Math.abs(i-o.startDragX)||o.hasIntent===!1)return;s.events.prevent(t),s.dispatchEvent("drag"),o.dragWatchers.current=i,o.dragWatchers.last>i?("left"!==o.dragWatchers.state&&(o.dragWatchers.state="left",o.dragWatchers.hold=i),o.dragWatchers.last=i):o.dragWatchers.last<i&&("right"!==o.dragWatchers.state&&(o.dragWatchers.state="right",o.dragWatchers.hold=i),o.dragWatchers.last=i),f?(a.maxPosition<d&&(n=(d-a.maxPosition)*a.resistance,p=u-n),o.simpleStates={opening:"left",towards:o.dragWatchers.state,hyperExtending:a.maxPosition<d,halfway:d>a.maxPosition/2,flick:Math.abs(o.dragWatchers.current-o.dragWatchers.hold)>a.flickThreshold,translation:{absolute:d,relative:u,sinceDirectionChange:o.dragWatchers.current-o.dragWatchers.hold,percentage:d/a.maxPosition*100}}):(a.minPosition>d&&(n=(d-a.minPosition)*a.resistance,p=u-n),o.simpleStates={opening:"right",towards:o.dragWatchers.state,hyperExtending:a.minPosition>d,halfway:d<a.minPosition/2,flick:Math.abs(o.dragWatchers.current-o.dragWatchers.hold)>a.flickThreshold,translation:{absolute:d,relative:u,sinceDirectionChange:o.dragWatchers.current-o.dragWatchers.hold,percentage:d/a.minPosition*100}}),l.translate.x(p+c)}p>5&&s.createBackdrop()},endDrag:function(t){if(o.isDragging){s.dispatchEvent("end");var e=l.translate.get.matrix(4);if(0===o.dragWatchers.current&&0!==e&&a.tapToClose)return s.dispatchEvent("close"),s.events.prevent(t),l.translate.easeTo(0),o.isDragging=!1,void(o.startDragX=0);"left"===o.simpleStates.opening?o.simpleStates.halfway||o.simpleStates.hyperExtending||o.simpleStates.flick?o.simpleStates.flick&&"left"===o.simpleStates.towards?l.translate.easeTo(0):(o.simpleStates.flick&&"right"===o.simpleStates.towards||o.simpleStates.halfway||o.simpleStates.hyperExtending)&&l.translate.easeTo(a.maxPosition):l.translate.easeTo(0):"right"===o.simpleStates.opening&&(o.simpleStates.halfway||o.simpleStates.hyperExtending||o.simpleStates.flick?o.simpleStates.flick&&"right"===o.simpleStates.towards?l.translate.easeTo(0):(o.simpleStates.flick&&"left"===o.simpleStates.towards||o.simpleStates.halfway||o.simpleStates.hyperExtending)&&l.translate.easeTo(a.minPosition):l.translate.easeTo(0)),o.isDragging=!1,o.startDragX=s.page("X",t)}}}},c=function(t){t.element&&(s.deepExtend(a,t),o.vendor=s.vendor(),l.drag.listen())};this.open=function(t){s.createBackdrop(),s.dispatchEvent("open"),s.klass.remove(e.body,"snapjs-expand-left"),s.klass.remove(e.body,"snapjs-expand-right"),"left"===t?(o.simpleStates.opening="left",o.simpleStates.towards="right",s.klass.add(e.body,"snapjs-left"),s.klass.remove(e.body,"snapjs-right"),l.translate.easeTo(a.maxPosition)):"right"===t&&(o.simpleStates.opening="right",o.simpleStates.towards="left",s.klass.remove(e.body,"snapjs-left"),s.klass.add(e.body,"snapjs-right"),l.translate.easeTo(a.minPosition))},this.close=function(){s.dispatchEvent("close"),l.translate.easeTo(0)},this.expand=function(n){var i=t.innerWidth||e.documentElement.clientWidth;"left"===n?(s.dispatchEvent("expandLeft"),s.klass.add(e.body,"snapjs-expand-left"),s.klass.remove(e.body,"snapjs-expand-right")):(s.dispatchEvent("expandRight"),s.klass.add(e.body,"snapjs-expand-right"),s.klass.remove(e.body,"snapjs-expand-left"),i*=-1),l.translate.easeTo(i)},this.on=function(t,e){return r[t]=e,this},this.off=function(t){r[t]&&(r[t]=!1)},this.enable=function(){s.dispatchEvent("enable"),l.drag.listen()},this.disable=function(){s.dispatchEvent("disable"),l.drag.stopListening()},this.settings=function(t){s.deepExtend(a,t)},this.state=function(){var t,e=l.translate.get.matrix(4);return t=e===a.maxPosition?"left":e===a.minPosition?"right":"closed",{state:t,info:o.simpleStates}},c(i)};"undefined"!=typeof module&&module.exports&&(module.exports=i),"undefined"==typeof ender&&(this.Snap=i),"function"==typeof define&&define.amd&&define("snap",[],function(){return i})}.call(this,window,document),function(t,e){function n(t){for(var e=c.length-1;e>=0;e--)if(c[e].el.id===t)return c[e];return null}function i(t){for(var n="undefined"!=typeof t?t.detail.page:e.navigator().currentPage,i=document.querySelector(n),a=i.querySelector('[data-tab-contents="true"]'),o=c.length-1;o>=0;o--){var r=c[o],s=r.el.getAttribute("data-expose-aside");r.pages.indexOf(n)===-1?(r.el.style.display="none",r.el.style.visibility="hidden"):(r.snapper.settings({element:i}),r.el.style.display="block",r.el.style.visibility="visible",a&&c[o].snapper.disable(),"left"!==s&&"right"!==s||i.classList.contains("expose-aside-"+s)||i.classList.add("expose-aside-"+s),l||(a||"left"===s||"right"===s?(r.snapper.settings({touchToDrag:!1}),r.snapper.disable()):(r.snapper.settings({touchToDrag:!0}),r.snapper.enable())),!a&&l&&(r.snapper.settings({touchToDrag:!0}),r.snapper.enable()))}}function a(){var e=l;l=!matchMedia("only screen and (min-width: 641px)").matches,e!==l&&(t.setTimeout(function(){for(var t=c.length-1;t>=0;t--){var e=c[t];e.snapper.settings({maxPosition:e.el.clientWidth,minPosition:-e.el.clientWidth})}},500),i())}function o(t){d=t,t.snapper.open(t.direction),document.on(e.event.end,u)}function r(t){t.snapper.close(),d=null,document.off(e.event.end,u)}function s(){for(var t=e.navigator().currentPage,n=c.length-1;n>=0;n--){var i=c[n],a=i.el.getAttribute("data-expose-aside");if(i.pages.indexOf(t)!==-1){var o=i.snapper.state();if("closed"!==o.state){if(l)return r(i),!0;if(!l&&"left"!==a&&"right"!==a)return r(i),!0}return!1}}return!1}var l=!matchMedia("only screen and (min-width: 641px)").matches,c=[],d=null;e.onReady(function(){for(var t=document.querySelectorAll(".side-panel"),e=t.length-1;e>=0;e--){for(var n=t[e],i=n.getAttribute("data-disable"),a=n.getAttribute("data-page"),o=[],r=a.split(","),s=0,l=r.length;s<l;s++){var d=r[s].trim();if(0==s)var u=document.querySelector(d);o.push(d)}var f={element:u,disable:null===i?"none":i,hyperextensible:!1,touchToDrag:!1,maxPosition:n.clientWidth,minPosition:-n.clientWidth},p=new Snap(f);c.push({snapper:p,el:n,pages:o,direction:n.classList.contains("side-panel-left")?"left":"right"})}}),document.on(e.event.tap,function(t){var e=t.target,i=e.getAttribute("data-side-panel-id"),a=e.getAttribute("data-side-panel-close");if("true"!==a){if(null!==i){var s=n(i);if(s){var c=s.snapper.state(),u=s.el.getAttribute("data-expose-aside");"closed"===c.state?("left"!==u&&"right"!==u||l)&&o(s):("left"!==u&&"right"!==u||l)&&r(s)}}}else if(d)r(d);else if(null!==i){var s=n(i);s&&r(s)}});var u=function(t){var e=t.target,n=!1;if(null!==d){for(;e&&e!==document;e=e.parentNode)if(e.classList.contains("side-panel")){n=!0;break}d&&!n&&(r(d),d=null)}};e.sidePanel=function(t){t=t.replace("#","");var e=n(t);if(null===e)throw new Error("The side panel with id ["+t+"] does not exists");return{open:function(){o(e)},close:function(){r(e)}}},e.sidePanelUtil={closeActive:s},t.on("resize",a),document.on("pageopened",i)}("undefined"!=typeof window?window:this,window.phonon||{}),function(t){function e(e){function a(){}function o(){return!1}function r(t,e){var n,i;
for(n in e)if(e.hasOwnProperty(n)){switch(i=e[n],n){case"height":case"width":case"marginLeft":case"marginTop":i+="px"}t.style[n]=i}return t}function s(t,e){var n;for(n in e)t[n]=e[n];return t}function l(t,e){return function(){return t.apply(e,Array.prototype.slice.call(arguments))}}function c(t,n){var i;return i=e?e(n).find("."+t):Array.prototype.slice.call(n.getElementsByClassName(t))}function d(t,n,i,a,o){var s={};s[n]=i,e?e(t).animate(s,a,o):r(t,s)}function u(t){var e=t.touches,n=e&&e.length?e:t.changedTouches;return{x:m?n[0].pageX:t.pageX,y:m?n[0].pageY:t.pageY}}function f(t,e){var i=s({},v);for(this.settings=s(i,e),this.container=t,this.pageContainer=n.createElement("div"),this.scrollBorder={x:0,y:0},this.page=0,this.preventScroll=!1,this.pageCssProperties={margin:0},this._onStart=l(this._onStart,this),this._onMove=l(this._onMove,this),this._onEnd=l(this._onEnd,this),this._onKeydown=l(this._onKeydown,this),this._sizePages=l(this._sizePages,this),this._afterScrollTransform=l(this._afterScrollTransform,this);t.firstChild;)this.pageContainer.appendChild(t.firstChild);t.appendChild(this.pageContainer),this._scroll=k?this._scrollWithTransform:this._scrollWithoutTransform,this._animateScroll=k?this._animateScrollWithTransform:this._animateScrollWithoutTransform,r(t,E),setTimeout(l(function(){this.updateInstance(e),this.settings.preventDrag||this._observe(),this.settings.afterInitialize.call(this)},this),10)}function p(t,n,i){e?e(t).on(n,i):t.addEventListener(n,i,!1)}function h(t,n,i){e?e(t).off(n,i):t.removeEventListener(n,i,!1)}function g(){if(!t.getComputedStyle)return!1;var e,n=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(n,null);for(var a in i)void 0!==n.style[a]&&(n.style[a]="translate3d(1px,1px,1px)",e=t.getComputedStyle(n).getPropertyValue(i[a]));return document.body.removeChild(n),void 0!==e&&e.length>0&&"none"!==e}var v={pageClass:"dragend-page",direction:"horizontal",minDragDistance:"40",onSwipeStart:a,onSwipeEnd:a,onDragStart:a,onDrag:a,onDragEnd:a,afterInitialize:a,keyboardNavigation:!1,stopPropagation:!1,itemsInPage:1,scribe:0,borderBetweenPages:0,duration:300,preventDrag:!1},m="ontouchstart"in i,y=m?"touchstart":"mousedown",b=m?"touchmove":"mousemove",w=m?"touchend":"mouseup",x={37:"left",38:"up",39:"right",40:"down"},T={pages:"No pages found"},E={overflow:"hidden",padding:0},C=function(){var t=n.createElement("div"),e="Khtml Ms O Moz Webkit".split(" "),i=e.length;return function(n){if(n in t.style)return!0;for(n=n.replace(/^[a-z]/,function(t){return t.toUpperCase()});i--;)if(e[i]+n in t.style)return!0;return!1}}(),k=C("transform");return s(f.prototype,{_checkOverscroll:function(t,e,n){var i={x:e,y:n,overscroll:!0};switch(t){case"right":if(!this.scrollBorder.x)return i.x=Math.round((e-this.scrollBorder.x)/5),i;break;case"left":if((this.pagesCount-1)*this.pageDimentions.width<=this.scrollBorder.x)return i.x=Math.round(-((Math.ceil(this.pagesCount)-1)*(this.pageDimentions.width+this.settings.borderBetweenPages))+e/5),i;break;case"down":if(!this.scrollBorder.y)return i.y=Math.round((n-this.scrollBorder.y)/5),i;break;case"up":if((this.pagesCount-1)*this.pageDimentions.height<=this.scrollBorder.y)return i.y=Math.round(-((Math.ceil(this.pagesCount)-1)*(this.pageDimentions.height+this.settings.borderBetweenPages))+n/5),i}return{x:e-this.scrollBorder.x,y:n-this.scrollBorder.y,overscroll:!1}},_xDown:0,_yDown:0,_observe:function(){p(this.container,y,this._onStart),this.container.onselectstart=o,this.container.ondragstart=o,this.settings.keyboardNavigation&&p(n.body,"keydown",this._onKeydown),p(i,"resize",this._sizePages)},_onStart:function(t){t=t.originalEvent||t,this.settings.stopPropagation&&t.stopPropagation(),this._xDown=t.touches?t.touches[0].clientX:t.clientX,this._yDown=t.touches?t.touches[0].clientY:t.clientY,p(n.body,b,this._onMove),p(n.body,w,this._onEnd),this.startCoords=u(t),this.settings.onDragStart.call(this,t)},_onMove:function(t){if(t=t.originalEvent||t,!(t.touches&&t.touches.length>1||t.scale&&1!==t.scale)){var e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY,i=this._xDown-e,a=this._yDown-n;Math.abs(i)>Math.abs(a)&&(t.preventDefault(),this.settings.stopPropagation&&t.stopPropagation());var o=this._parseEvent(t),r=this._checkOverscroll(o.direction,-o.distanceX,-o.distanceY);0===this.page&&"right"===o.direction||this.page+1===this.pagesCount&&"left"===o.direction||(this.settings.onDrag.call(this,this.activeElement,o,r.overscroll,t),this.preventScroll||this._scroll(r))}},_onEnd:function(t){t=t.originalEvent||t,this.settings.stopPropagation&&t.stopPropagation();var e=this._parseEvent(t);this.startCoords={x:0,y:0},Math.abs(e.distanceX)>this.settings.minDragDistance||Math.abs(e.distanceY)>this.settings.minDragDistance?this.swipe(e.direction):(e.distanceX>0||e.distanceX>0)&&this._scrollToPage(),this.settings.onDragEnd.call(this,this.container,this.activeElement,this.page,t),h(n.body,b,this._onMove),h(n.body,w,this._onEnd)},_parseEvent:function(t){var e=u(t),n=this.startCoords.x-e.x,i=this.startCoords.y-e.y;return this._addDistanceValues(n,i)},_addDistanceValues:function(t,e){var n={distanceX:0,distanceY:0};return"horizontal"===this.settings.direction?(n.distanceX=t,n.direction=t>0?"left":"right"):(n.distanceY=e,n.direction=e>0?"up":"down"),n},_onKeydown:function(t){var e=x[t.keyCode];e&&this._scrollToPage(e)},_setHorizontalContainerCssValues:function(){s(this.pageCssProperties,{cssFloat:"left",overflowY:"auto",overflowX:"hidden",padding:0,display:"block"}),r(this.pageContainer,{overflow:"hidden",width:(this.pageDimentions.width+this.settings.borderBetweenPages)*this.pagesCount,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0,padding:0})},_setVerticalContainerCssValues:function(){s(this.pageCssProperties,{overflow:"hidden",padding:0,display:"block"}),r(this.pageContainer,{"padding-bottom":this.settings.scribe,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0})},setContainerCssValues:function(){"horizontal"===this.settings.direction?this._setHorizontalContainerCssValues():this._setVerticalContainerCssValues()},_setPageDimentions:function(){var t=this.container.offsetWidth,e=this.container.offsetHeight;"horizontal"===this.settings.direction?t-=parseInt(this.settings.scribe,10):e-=parseInt(this.settings.scribe,10),this.pageDimentions={width:t,height:e}},_sizePages:function(){var t=this.pages.length;this._setPageDimentions(),this.setContainerCssValues(),"horizontal"===this.settings.direction?s(this.pageCssProperties,{height:this.pageDimentions.height,width:this.pageDimentions.width/this.settings.itemsInPage}):s(this.pageCssProperties,{height:this.pageDimentions.height/this.settings.itemsInPage,width:this.pageDimentions.width});for(var e=0;e<t;e++)r(this.pages[e],this.pageCssProperties);this._jumpToPage("page",this.page)},_calcNewPage:function(t,e){var n=this.settings.borderBetweenPages,i=this.pageDimentions.height,a=this.pageDimentions.width,o=this.page;switch(t){case"up":o<this.pagesCount-1&&(this.scrollBorder.y=this.scrollBorder.y+i+n,this.page++);break;case"down":o>0&&(this.scrollBorder.y=this.scrollBorder.y-i-n,this.page--);break;case"left":o<this.pagesCount-1&&(this.scrollBorder.x=this.scrollBorder.x+a+n,this.page++);break;case"right":o>0&&(this.scrollBorder.x=this.scrollBorder.x-a-n,this.page--);break;case"page":switch(this.settings.direction){case"horizontal":this.scrollBorder.x=(a+n)*e;break;case"vertical":this.scrollBorder.y=(i+n)*e}this.page=e;break;default:this.scrollBorder.y=0,this.scrollBorder.x=0,this.page=0}},_onSwipeEnd:function(){this.preventScroll=!1,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this.settings.onSwipeEnd.call(this,this.container,this.activeElement,this.page)},_jumpToPage:function(t,e){t&&this._calcNewPage(t,e),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y})},_scrollToPage:function(t,e){this.preventScroll=!0,t&&this._calcNewPage(t,e),this._animateScroll()},_scrollWithTransform:function(t){var e;e=g()?"horizontal"===this.settings.direction?"translate3d("+t.x+"px, 0, 0)":"translate3d(0, "+t.y+"px, 0)":"horizontal"===this.settings.direction?"translateX("+t.x+"px)":"translateY("+t.y+"px)",r(this.pageContainer,{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,"-o-transform":e,transform:e})},_animateScrollWithTransform:function(){var t="transform "+this.settings.duration+"ms ease-out",e=(this.container,this._afterScrollTransform);r(this.pageContainer,{"-webkit-transition":"-webkit-"+t,"-moz-transition":"-moz-"+t,"-ms-transition":"-ms-"+t,"-o-transition":"-o-"+t,transition:t}),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y}),p(this.container,"webkitTransitionEnd",e),p(this.container,"oTransitionEnd",e),p(this.container,"transitionend",e),p(this.container,"transitionEnd",e)},_afterScrollTransform:function(){var t=this.container,e=this._afterScrollTransform;this._onSwipeEnd(),h(t,"webkitTransitionEnd",e),h(t,"oTransitionEnd",e),h(t,"transitionend",e),h(t,"transitionEnd",e),r(this.pageContainer,{"-webkit-transition":"","-moz-transition":"","-ms-transition":"","-o-transition":"",transition:""})},_scrollWithoutTransform:function(t){var e="horizontal"===this.settings.direction?{marginLeft:t.x}:{marginTop:t.y};r(this.pageContainer,e)},_animateScrollWithoutTransform:function(){var t="horizontal"===this.settings.direction?"marginLeft":"marginTop",e="horizontal"===this.settings.direction?-this.scrollBorder.x:-this.scrollBorder.y;d(this.pageContainer,t,e,this.settings.duration,l(this._onSwipeEnd,this))},swipe:function(t){this.settings.onSwipeStart.call(this,this.container,this.activeElement,this.page),this._scrollToPage(t)},updateInstance:function(t){if(t=t||{},"object"==typeof t&&s(this.settings,t),this.pages=c(this.settings.pageClass,this.pageContainer),!this.pages.length)throw new Error(T.pages);this.pagesCount=this.pages.length/this.settings.itemsInPage,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this._sizePages(),this.settings.jumpToPage&&(this.jumpToPage(t.jumpToPage),delete this.settings.jumpToPage),this.settings.scrollToPage&&(this.scrollToPage(this.settings.scrollToPage),delete this.settings.scrollToPage),this.settings.destroy&&(this.destroy(),delete this.settings.destroy)},destroy:function(){var t=this.container;h(t,y),h(t,b),h(t,w),h(n.body,"keydown",this._onKeydown),h(i,"resize",this._sizePages),t.removeAttribute("style");for(var e=0;e<this.pages.length;e++)this.pages[e].removeAttribute("style");t.innerHTML=this.pageContainer.innerHTML},scrollToPage:function(t){this._scrollToPage("page",t-1)},jumpToPage:function(t){this._jumpToPage("page",t-1)}}),e&&(e.fn.dragend=function(t){return t=t||{},this.each(function(){var n=e(this).data("dragend");n?n.updateInstance(t):(n=new f(this,t),e(this).data("dragend",n)),"string"==typeof t&&n.swipe(t)}),this}),f}var n=document,i=t;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e(i.jQuery||i.Zepto)}):i.Dragend=e(i.jQuery||i.Zepto)}(window),function(t,e){function n(t){var e=t.detail.page,n=document.querySelector(e),i=n.querySelector('[data-tab-contents="true"]');i&&a(e,n,i)}function i(t,n){for(var i=r.length-1;i>=0;i--)if(r[i].page===t){r[i].currentTab!==n&&(r[i].currentTab=n,e.navigator().callCallback("tabchanged",{page:t,tabNumber:n}));var a=document.querySelector(t).querySelector(".tab-indicator");if(a){var o=n-1;a.style.webkitTransform="translateX("+o+"00%)",a.style.MozTransform="translateX("+o+"00%)",a.style.msTransform="translateX("+o+"00%)",a.style.OTransform="translateX("+o+"00%)",a.style.transform="translateX("+o+"00%)"}r[i].dragend.scrollToPage(n);break}}function a(e,n,a){var o=n.querySelectorAll(".tab-items a"),s=n.querySelector(".tab-indicator"),l="true"===a.getAttribute("data-disable-swipe"),c=parseInt(a.getAttribute("data-tab-default"));(isNaN(c)||c>o.length)&&(c=1),s.style.width=100/o.length+"%";var d={direction:"horizontal",preventDrag:l,duration:200,pageClass:"tab-content",onDragEnd:function(t,n,a){a+=1,i(e,a)}};r.push({page:e,dragend:new Dragend(a,d),currentTab:c}),t.setTimeout(function(){i(e,c)},10)}function o(t){for(var n=t.target,i=null;n&&n!==document;n=n.parentNode)if(n.classList.contains("tab-item")){i=n;break}if(i){for(var a=i.parentNode.parentNode,o=a.querySelectorAll(".tab-items a"),r=a.querySelector(".tab-indicator"),l=0,c=o.length;l<c&&i!==o[l];l++);var d=l+"00";r.style.webkitTransform="translateX("+d+"%)",r.style.MozTransform="translateX("+d+"%)",r.style.msTransform="translateX("+d+"%)",r.style.OTransform="translateX("+d+"%)",r.style.transform="translateX("+d+"%)";var u=e.navigator().currentPage;s(u,l+1)}}var r=[],s=function(t,e){if("string"!=typeof t)throw new Error("The first argument must be a string, "+typeof e+" given");if("number"!=typeof e)throw new Error("The second argument must be a number, "+typeof e+" given");i(t,e)};document.on("pagecreated",n),e.tab=function(){return{setCurrentTab:s}},document.on("tap",o)}("undefined"!=typeof window?window:this,window.phonon||{});